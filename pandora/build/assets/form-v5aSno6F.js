import{c as Gt,R as v,r as G,j as ae,i as Yt,o as he,w as Jt,a9 as Qt}from"./index-CuM1UVNz.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Mr=Gt("save",Xt);var ve=e=>e.type==="checkbox",ce=e=>e instanceof Date,H=e=>e==null;const vt=e=>typeof e=="object";var N=e=>!H(e)&&!Array.isArray(e)&&vt(e)&&!ce(e),bt=e=>N(e)&&e.target?ve(e.target)?e.target.checked:e.target.value:e,Zt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ft=(e,r)=>e.has(Zt(r)),er=e=>{const r=e.constructor&&e.constructor.prototype;return N(r)&&r.hasOwnProperty("isPrototypeOf")},He=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function I(e){let r;const t=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(He&&(e instanceof Blob||s))&&(t||N(e)))if(r=t?[]:{},!t&&!er(e))r=e;else for(const a in e)e.hasOwnProperty(a)&&(r[a]=I(e[a]));else return e;return r}var be=e=>Array.isArray(e)?e.filter(Boolean):[],R=e=>e===void 0,d=(e,r,t)=>{if(!r||!N(e))return t;const s=be(r.split(/[,[\].]+?/)).reduce((a,l)=>H(a)?a:a[l],e);return R(s)||s===e?R(e[r])?t:e[r]:s},X=e=>typeof e=="boolean",ze=e=>/^\w*$/.test(e),Vt=e=>be(e.replace(/["|']|\]/g,"").split(/\.|\[/)),D=(e,r,t)=>{let s=-1;const a=ze(r)?[r]:Vt(r),l=a.length,c=l-1;for(;++s<l;){const y=a[s];let F=t;if(s!==c){const x=e[y];F=N(x)||Array.isArray(x)?x:isNaN(+a[s+1])?{}:[]}if(y==="__proto__"||y==="constructor"||y==="prototype")return;e[y]=F,e=e[y]}};const xe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},te={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ne={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},At=v.createContext(null),Fe=()=>v.useContext(At),tr=e=>{const{children:r,...t}=e;return v.createElement(At.Provider,{value:t},r)};var xt=(e,r,t,s=!0)=>{const a={defaultValues:r._defaultValues};for(const l in e)Object.defineProperty(a,l,{get:()=>{const c=l;return r._proxyFormState[c]!==te.all&&(r._proxyFormState[c]=!s||te.all),t&&(t[c]=!0),e[c]}});return a},$e=e=>H(e)||!vt(e);function le(e,r){if($e(e)||$e(r))return e===r;if(ce(e)&&ce(r))return e.getTime()===r.getTime();const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(const a of t){const l=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const c=r[a];if(ce(l)&&ce(c)||N(l)&&N(c)||Array.isArray(l)&&Array.isArray(c)?!le(l,c):l!==c)return!1}}return!0}const wt=(e,r)=>{const t=G.useRef(r);le(r,t.current)||(t.current=r),G.useEffect(e,t.current)};function rr(e){const r=Fe(),{control:t=r.control,disabled:s,name:a,exact:l}=e||{},[c,y]=v.useState(t._formState),F=v.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return wt(()=>t._subscribe({name:a,formState:F.current,exact:l,callback:x=>{!s&&y({...t._formState,...x})}}),[a,s,l]),v.useEffect(()=>{F.current.isValid&&t._setValid(!0)},[t]),v.useMemo(()=>xt(c,t,F.current,!1),[c,t])}var ie=e=>typeof e=="string",St=(e,r,t,s,a)=>ie(e)?(s&&r.watch.add(e),d(t,e,a)):Array.isArray(e)?e.map(l=>(s&&r.watch.add(l),d(t,l))):(s&&(r.watchAll=!0),t);function sr(e){const r=Fe(),{control:t=r.control,name:s,defaultValue:a,disabled:l,exact:c}=e||{},[y,F]=v.useState(t._getWatch(s,a));return wt(()=>t._subscribe({name:s,formState:{values:!0},exact:c,callback:x=>!l&&F(St(s,t._names,x.values||t._formValues,!1,a))}),[s,a,l,c]),v.useEffect(()=>t._removeUnmounted()),y}function ir(e){const r=Fe(),{name:t,disabled:s,control:a=r.control,shouldUnregister:l}=e,c=Ft(a._names.array,t),y=sr({control:a,name:t,defaultValue:d(a._formValues,t,d(a._defaultValues,t,e.defaultValue)),exact:!0}),F=rr({control:a,name:t,exact:!0}),x=v.useRef(e),E=v.useRef(a.register(t,{...e.rules,value:y,...X(e.disabled)?{disabled:e.disabled}:{}})),C=v.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!d(F.errors,t)},isDirty:{enumerable:!0,get:()=>!!d(F.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!d(F.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!d(F.validatingFields,t)},error:{enumerable:!0,get:()=>d(F.errors,t)}}),[F,t]),V=v.useCallback(B=>E.current.onChange({target:{value:bt(B),name:t},type:xe.CHANGE}),[t]),M=v.useCallback(()=>E.current.onBlur({target:{value:d(a._formValues,t),name:t},type:xe.BLUR}),[t,a._formValues]),Y=v.useCallback(B=>{const j=d(a._fields,t);j&&B&&(j._f.ref={focus:()=>B.focus(),select:()=>B.select(),setCustomValidity:b=>B.setCustomValidity(b),reportValidity:()=>B.reportValidity()})},[a._fields,t]),P=v.useMemo(()=>({name:t,value:y,...X(s)||F.disabled?{disabled:F.disabled||s}:{},onChange:V,onBlur:M,ref:Y}),[t,s,F.disabled,V,M,Y,y]);return v.useEffect(()=>{const B=a._options.shouldUnregister||l;a.register(t,{...x.current.rules,...X(x.current.disabled)?{disabled:x.current.disabled}:{}});const j=(b,J)=>{const W=d(a._fields,b);W&&W._f&&(W._f.mount=J)};if(j(t,!0),B){const b=I(d(a._options.defaultValues,t));D(a._defaultValues,t,b),R(d(a._formValues,t))&&D(a._formValues,t,b)}return!c&&a.register(t),()=>{(c?B&&!a._state.action:B)?a.unregister(t):j(t,!1)}},[t,a,c,l]),v.useEffect(()=>{a._setDisabledField({disabled:s,name:t})},[s,t,a]),v.useMemo(()=>({field:P,formState:F,fieldState:C}),[P,F,C])}const ar=e=>e.render(ir(e));var nr=(e,r,t,s,a)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:a||!0}}:{},K=e=>Array.isArray(e)?e:[e],lt=()=>{let e=[];return{get observers(){return e},next:a=>{for(const l of e)l.next&&l.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(l=>l!==a)}}),unsubscribe:()=>{e=[]}}},q=e=>N(e)&&!Object.keys(e).length,Ke=e=>e.type==="file",re=e=>typeof e=="function",we=e=>{if(!He)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Dt=e=>e.type==="select-multiple",Ge=e=>e.type==="radio",lr=e=>Ge(e)||ve(e),Ie=e=>we(e)&&e.isConnected;function or(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=R(e)?s++:e[r[s++]];return e}function ur(e){for(const r in e)if(e.hasOwnProperty(r)&&!R(e[r]))return!1;return!0}function U(e,r){const t=Array.isArray(r)?r:ze(r)?[r]:Vt(r),s=t.length===1?e:or(e,t),a=t.length-1,l=t[a];return s&&delete s[l],a!==0&&(N(s)&&q(s)||Array.isArray(s)&&ur(s))&&U(e,t.slice(0,-1)),e}var kt=e=>{for(const r in e)if(re(e[r]))return!0;return!1};function Se(e,r={}){const t=Array.isArray(e);if(N(e)||t)for(const s in e)Array.isArray(e[s])||N(e[s])&&!kt(e[s])?(r[s]=Array.isArray(e[s])?[]:{},Se(e[s],r[s])):H(e[s])||(r[s]=!0);return r}function pt(e,r,t){const s=Array.isArray(e);if(N(e)||s)for(const a in e)Array.isArray(e[a])||N(e[a])&&!kt(e[a])?R(r)||$e(t[a])?t[a]=Array.isArray(e[a])?Se(e[a],[]):{...Se(e[a])}:pt(e[a],H(r)?{}:r[a],t[a]):t[a]=!le(e[a],r[a]);return t}var ge=(e,r)=>pt(e,r,Se(r));const ot={value:!1,isValid:!1},ut={value:!0,isValid:!0};var Et=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!R(e[0].attributes.value)?R(e[0].value)||e[0].value===""?ut:{value:e[0].value,isValid:!0}:ut:ot}return ot},Ct=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>R(e)?e:r?e===""?NaN:e&&+e:t&&ie(e)?new Date(e):s?s(e):e;const ct={isValid:!1,value:null};var Rt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ct):ct;function dt(e){const r=e.ref;return Ke(r)?r.files:Ge(r)?Rt(e.refs).value:Dt(r)?[...r.selectedOptions].map(({value:t})=>t):ve(r)?Et(e.refs).value:Ct(R(r.value)?e.ref.value:r.value,e)}var cr=(e,r,t,s)=>{const a={};for(const l of e){const c=d(r,l);c&&D(a,l,c._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:s}},De=e=>e instanceof RegExp,_e=e=>R(e)?e:De(e)?e.source:N(e)?De(e.value)?e.value.source:e.value:e,fe=e=>({isOnSubmit:!e||e===te.onSubmit,isOnBlur:e===te.onBlur,isOnChange:e===te.onChange,isOnAll:e===te.all,isOnTouch:e===te.onTouched});const ft="AsyncFunction";var dr=e=>!!e&&!!e.validate&&!!(re(e.validate)&&e.validate.constructor.name===ft||N(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===ft)),fr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),qe=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ye=(e,r,t,s)=>{for(const a of t||Object.keys(e)){const l=d(e,a);if(l){const{_f:c,...y}=l;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],a)&&!s)return!0;if(c.ref&&r(c.ref,c.name)&&!s)return!0;if(ye(y,r))break}else if(N(y)&&ye(y,r))break}}};function yt(e,r,t){const s=d(e,t);if(s||ze(t))return{error:s,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),c=d(r,l),y=d(e,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(y&&y.type)return{name:l,error:y};a.pop()}return{name:t}}var yr=(e,r,t,s)=>{t(e);const{name:a,...l}=e;return q(l)||Object.keys(l).length>=Object.keys(r).length||Object.keys(l).find(c=>r[c]===(!s||te.all))},mr=(e,r,t)=>!e||!r||e===r||K(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s))),gr=(e,r,t,s,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(r||e):(t?s.isOnBlur:a.isOnBlur)?!e:(t?s.isOnChange:a.isOnChange)?e:!0,_r=(e,r)=>!be(d(e,r)).length&&U(e,r),Mt=(e,r,t)=>{const s=K(d(e,t));return D(s,"root",r[t]),D(e,t,s),e},Ae=e=>ie(e);function mt(e,r,t="validate"){if(Ae(e)||Array.isArray(e)&&e.every(Ae)||X(e)&&!e)return{type:t,message:Ae(e)?e:"",ref:r}}var de=e=>N(e)&&!De(e)?e:{value:e,message:""},We=async(e,r,t,s,a,l)=>{const{ref:c,refs:y,required:F,maxLength:x,minLength:E,min:C,max:V,pattern:M,validate:Y,name:P,valueAsNumber:B,mount:j}=e._f,b=d(t,P);if(!j||r.has(P))return{};const J=y?y[0]:c,W=p=>{a&&J.reportValidity&&(J.setCustomValidity(X(p)?"":p||""),J.reportValidity())},O={},h=Ge(c),_=ve(c),A=h||_,k=(B||Ke(c))&&R(c.value)&&R(b)||we(c)&&c.value===""||b===""||Array.isArray(b)&&!b.length,Q=nr.bind(null,P,s,O),Z=(p,w,L,z=ne.maxLength,ee=ne.minLength)=>{const se=p?w:L;O[P]={type:p?z:ee,message:se,ref:c,...Q(p?z:ee,se)}};if(l?!Array.isArray(b)||!b.length:F&&(!A&&(k||H(b))||X(b)&&!b||_&&!Et(y).isValid||h&&!Rt(y).isValid)){const{value:p,message:w}=Ae(F)?{value:!!F,message:F}:de(F);if(p&&(O[P]={type:ne.required,message:w,ref:J,...Q(ne.required,w)},!s))return W(w),O}if(!k&&(!H(C)||!H(V))){let p,w;const L=de(V),z=de(C);if(!H(b)&&!isNaN(b)){const ee=c.valueAsNumber||b&&+b;H(L.value)||(p=ee>L.value),H(z.value)||(w=ee<z.value)}else{const ee=c.valueAsDate||new Date(b),se=Ve=>new Date(new Date().toDateString()+" "+Ve),oe=c.type=="time",me=c.type=="week";ie(L.value)&&b&&(p=oe?se(b)>se(L.value):me?b>L.value:ee>new Date(L.value)),ie(z.value)&&b&&(w=oe?se(b)<se(z.value):me?b<z.value:ee<new Date(z.value))}if((p||w)&&(Z(!!p,L.message,z.message,ne.max,ne.min),!s))return W(O[P].message),O}if((x||E)&&!k&&(ie(b)||l&&Array.isArray(b))){const p=de(x),w=de(E),L=!H(p.value)&&b.length>+p.value,z=!H(w.value)&&b.length<+w.value;if((L||z)&&(Z(L,p.message,w.message),!s))return W(O[P].message),O}if(M&&!k&&ie(b)){const{value:p,message:w}=de(M);if(De(p)&&!b.match(p)&&(O[P]={type:ne.pattern,message:w,ref:c,...Q(ne.pattern,w)},!s))return W(w),O}if(Y){if(re(Y)){const p=await Y(b,t),w=mt(p,J);if(w&&(O[P]={...w,...Q(ne.validate,w.message)},!s))return W(w.message),O}else if(N(Y)){let p={};for(const w in Y){if(!q(p)&&!s)break;const L=mt(await Y[w](b,t),J,w);L&&(p={...L,...Q(w,L.message)},W(L.message),s&&(O[P]=p))}if(!q(p)&&(O[P]={ref:J,...p},!s))return O}}return W(!0),O};const hr={mode:te.onSubmit,reValidateMode:te.onChange,shouldFocusError:!0};function vr(e={}){let r={...hr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:re(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const s={};let a=N(r.defaultValues)||N(r.values)?I(r.values||r.defaultValues)||{}:{},l=r.shouldUnregister?{}:I(a),c={action:!1,mount:!1,watch:!1},y={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},F,x=0;const E={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let C={...E};const V={array:lt(),state:lt()},M=fe(r.mode),Y=fe(r.reValidateMode),P=r.criteriaMode===te.all,B=i=>n=>{clearTimeout(x),x=setTimeout(i,n)},j=async i=>{if(!r.disabled&&(E.isValid||C.isValid||i)){const n=r.resolver?q((await k()).errors):await Z(s,!0);n!==t.isValid&&V.state.next({isValid:n})}},b=(i,n)=>{!r.disabled&&(E.isValidating||E.validatingFields||C.isValidating||C.validatingFields)&&((i||Array.from(y.mount)).forEach(o=>{o&&(n?D(t.validatingFields,o,n):U(t.validatingFields,o))}),V.state.next({validatingFields:t.validatingFields,isValidating:!q(t.validatingFields)}))},J=(i,n=[],o,m,f=!0,u=!0)=>{if(m&&o&&!r.disabled){if(c.action=!0,u&&Array.isArray(d(s,i))){const g=o(d(s,i),m.argA,m.argB);f&&D(s,i,g)}if(u&&Array.isArray(d(t.errors,i))){const g=o(d(t.errors,i),m.argA,m.argB);f&&D(t.errors,i,g),_r(t.errors,i)}if((E.touchedFields||C.touchedFields)&&u&&Array.isArray(d(t.touchedFields,i))){const g=o(d(t.touchedFields,i),m.argA,m.argB);f&&D(t.touchedFields,i,g)}(E.dirtyFields||C.dirtyFields)&&(t.dirtyFields=ge(a,l)),V.state.next({name:i,isDirty:w(i,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(l,i,n)},W=(i,n)=>{D(t.errors,i,n),V.state.next({errors:t.errors})},O=i=>{t.errors=i,V.state.next({errors:t.errors,isValid:!1})},h=(i,n,o,m)=>{const f=d(s,i);if(f){const u=d(l,i,R(o)?d(a,i):o);R(u)||m&&m.defaultChecked||n?D(l,i,n?u:dt(f._f)):ee(i,u),c.mount&&j()}},_=(i,n,o,m,f)=>{let u=!1,g=!1;const S={name:i};if(!r.disabled){if(!o||m){(E.isDirty||C.isDirty)&&(g=t.isDirty,t.isDirty=S.isDirty=w(),u=g!==S.isDirty);const T=le(d(a,i),n);g=!!d(t.dirtyFields,i),T?U(t.dirtyFields,i):D(t.dirtyFields,i,!0),S.dirtyFields=t.dirtyFields,u=u||(E.dirtyFields||C.dirtyFields)&&g!==!T}if(o){const T=d(t.touchedFields,i);T||(D(t.touchedFields,i,o),S.touchedFields=t.touchedFields,u=u||(E.touchedFields||C.touchedFields)&&T!==o)}u&&f&&V.state.next(S)}return u?S:{}},A=(i,n,o,m)=>{const f=d(t.errors,i),u=(E.isValid||C.isValid)&&X(n)&&t.isValid!==n;if(r.delayError&&o?(F=B(()=>W(i,o)),F(r.delayError)):(clearTimeout(x),F=null,o?D(t.errors,i,o):U(t.errors,i)),(o?!le(f,o):f)||!q(m)||u){const g={...m,...u&&X(n)?{isValid:n}:{},errors:t.errors,name:i};t={...t,...g},V.state.next(g)}},k=async i=>{b(i,!0);const n=await r.resolver(l,r.context,cr(i||y.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return b(i),n},Q=async i=>{const{errors:n}=await k(i);if(i)for(const o of i){const m=d(n,o);m?D(t.errors,o,m):U(t.errors,o)}else t.errors=n;return n},Z=async(i,n,o={valid:!0})=>{for(const m in i){const f=i[m];if(f){const{_f:u,...g}=f;if(u){const S=y.array.has(u.name),T=f._f&&dr(f._f);T&&E.validatingFields&&b([m],!0);const $=await We(f,y.disabled,l,P,r.shouldUseNativeValidation&&!n,S);if(T&&E.validatingFields&&b([m]),$[u.name]&&(o.valid=!1,n))break;!n&&(d($,u.name)?S?Mt(t.errors,$,u.name):D(t.errors,u.name,$[u.name]):U(t.errors,u.name))}!q(g)&&await Z(g,n,o)}}return o.valid},p=()=>{for(const i of y.unMount){const n=d(s,i);n&&(n._f.refs?n._f.refs.every(o=>!Ie(o)):!Ie(n._f.ref))&&Ee(i)}y.unMount=new Set},w=(i,n)=>!r.disabled&&(i&&n&&D(l,i,n),!le(Ye(),a)),L=(i,n,o)=>St(i,y,{...c.mount?l:R(n)?a:ie(i)?{[i]:n}:n},o,n),z=i=>be(d(c.mount?l:a,i,r.shouldUnregister?d(a,i,[]):[])),ee=(i,n,o={})=>{const m=d(s,i);let f=n;if(m){const u=m._f;u&&(!u.disabled&&D(l,i,Ct(n,u)),f=we(u.ref)&&H(n)?"":n,Dt(u.ref)?[...u.ref.options].forEach(g=>g.selected=f.includes(g.value)):u.refs?ve(u.ref)?u.refs.length>1?u.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(f)?!!f.find(S=>S===g.value):f===g.value)):u.refs[0]&&(u.refs[0].checked=!!f):u.refs.forEach(g=>g.checked=g.value===f):Ke(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||V.state.next({name:i,values:I(l)})))}(o.shouldDirty||o.shouldTouch)&&_(i,f,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&pe(i)},se=(i,n,o)=>{for(const m in n){const f=n[m],u=`${i}.${m}`,g=d(s,u);(y.array.has(i)||N(f)||g&&!g._f)&&!ce(f)?se(u,f,o):ee(u,f,o)}},oe=(i,n,o={})=>{const m=d(s,i),f=y.array.has(i),u=I(n);D(l,i,u),f?(V.array.next({name:i,values:I(l)}),(E.isDirty||E.dirtyFields||C.isDirty||C.dirtyFields)&&o.shouldDirty&&V.state.next({name:i,dirtyFields:ge(a,l),isDirty:w(i,u)})):m&&!m._f&&!H(u)?se(i,u,o):ee(i,u,o),qe(i,y)&&V.state.next({...t}),V.state.next({name:c.mount?i:void 0,values:I(l)})},me=async i=>{c.mount=!0;const n=i.target;let o=n.name,m=!0;const f=d(s,o),u=g=>{m=Number.isNaN(g)||ce(g)&&isNaN(g.getTime())||le(g,d(l,o,g))};if(f){let g,S;const T=n.type?dt(f._f):bt(i),$=i.type===xe.BLUR||i.type===xe.FOCUS_OUT,Ht=!fr(f._f)&&!r.resolver&&!d(t.errors,o)&&!f._f.deps||gr($,d(t.touchedFields,o),t.isSubmitted,Y,M),Re=qe(o,y,$);D(l,o,T),$?(f._f.onBlur&&f._f.onBlur(i),F&&F(0)):f._f.onChange&&f._f.onChange(i);const Me=_(o,T,$),zt=!q(Me)||Re;if(!$&&V.state.next({name:o,type:i.type,values:I(l)}),Ht)return(E.isValid||C.isValid)&&(r.mode==="onBlur"?$&&j():$||j()),zt&&V.state.next({name:o,...Re?{}:Me});if(!$&&Re&&V.state.next({...t}),r.resolver){const{errors:at}=await k([o]);if(u(T),m){const Kt=yt(t.errors,s,o),nt=yt(at,s,Kt.name||o);g=nt.error,o=nt.name,S=q(at)}}else b([o],!0),g=(await We(f,y.disabled,l,P,r.shouldUseNativeValidation))[o],b([o]),u(T),m&&(g?S=!1:(E.isValid||C.isValid)&&(S=await Z(s,!0)));m&&(f._f.deps&&pe(f._f.deps),A(o,S,g,Me))}},Ve=(i,n)=>{if(d(t.errors,n)&&i.focus)return i.focus(),1},pe=async(i,n={})=>{let o,m;const f=K(i);if(r.resolver){const u=await Q(R(i)?i:f);o=q(u),m=i?!f.some(g=>d(u,g)):o}else i?(m=(await Promise.all(f.map(async u=>{const g=d(s,u);return await Z(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!m&&!t.isValid)&&j()):m=o=await Z(s);return V.state.next({...!ie(i)||(E.isValid||C.isValid)&&o!==t.isValid?{}:{name:i},...r.resolver||!i?{isValid:o}:{},errors:t.errors}),n.shouldFocus&&!m&&ye(s,Ve,i?f:y.mount),m},Ye=i=>{const n={...c.mount?l:a};return R(i)?n:ie(i)?d(n,i):i.map(o=>d(n,o))},Je=(i,n)=>({invalid:!!d((n||t).errors,i),isDirty:!!d((n||t).dirtyFields,i),error:d((n||t).errors,i),isValidating:!!d(t.validatingFields,i),isTouched:!!d((n||t).touchedFields,i)}),Ut=i=>{i&&K(i).forEach(n=>U(t.errors,n)),V.state.next({errors:i?t.errors:{}})},Qe=(i,n,o)=>{const m=(d(s,i,{_f:{}})._f||{}).ref,f=d(t.errors,i)||{},{ref:u,message:g,type:S,...T}=f;D(t.errors,i,{...T,...n,ref:m}),V.state.next({name:i,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&m&&m.focus&&m.focus()},Pt=(i,n)=>re(i)?V.state.subscribe({next:o=>i(L(void 0,n),o)}):L(i,n,!0),Xe=i=>V.state.subscribe({next:n=>{mr(i.name,n.name,i.exact)&&yr(n,i.formState||E,Wt,i.reRenderRoot)&&i.callback({values:{...l},...t,...n})}}).unsubscribe,Bt=i=>(c.mount=!0,C={...C,...i.formState},Xe({...i,formState:C})),Ee=(i,n={})=>{for(const o of i?K(i):y.mount)y.mount.delete(o),y.array.delete(o),n.keepValue||(U(s,o),U(l,o)),!n.keepError&&U(t.errors,o),!n.keepDirty&&U(t.dirtyFields,o),!n.keepTouched&&U(t.touchedFields,o),!n.keepIsValidating&&U(t.validatingFields,o),!r.shouldUnregister&&!n.keepDefaultValue&&U(a,o);V.state.next({values:I(l)}),V.state.next({...t,...n.keepDirty?{isDirty:w()}:{}}),!n.keepIsValid&&j()},Ze=({disabled:i,name:n})=>{(X(i)&&c.mount||i||y.disabled.has(n))&&(i?y.disabled.add(n):y.disabled.delete(n))},Ce=(i,n={})=>{let o=d(s,i);const m=X(n.disabled)||X(r.disabled);return D(s,i,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:i}},name:i,mount:!0,...n}}),y.mount.add(i),o?Ze({disabled:X(n.disabled)?n.disabled:r.disabled,name:i}):h(i,!0,n.value),{...m?{disabled:n.disabled||r.disabled}:{},...r.progressive?{required:!!n.required,min:_e(n.min),max:_e(n.max),minLength:_e(n.minLength),maxLength:_e(n.maxLength),pattern:_e(n.pattern)}:{},name:i,onChange:me,onBlur:me,ref:f=>{if(f){Ce(i,n),o=d(s,i);const u=R(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=lr(u),S=o._f.refs||[];if(g?S.find(T=>T===u):u===o._f.ref)return;D(s,i,{_f:{...o._f,...g?{refs:[...S.filter(Ie),u,...Array.isArray(d(a,i))?[{}]:[]],ref:{type:u.type,name:i}}:{ref:u}}}),h(i,!1,void 0,u)}else o=d(s,i,{}),o._f&&(o._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&!(Ft(y.array,i)&&c.action)&&y.unMount.add(i)}}},et=()=>r.shouldFocusError&&ye(s,Ve,y.mount),jt=i=>{X(i)&&(V.state.next({disabled:i}),ye(s,(n,o)=>{const m=d(s,o);m&&(n.disabled=m._f.disabled||i,Array.isArray(m._f.refs)&&m._f.refs.forEach(f=>{f.disabled=m._f.disabled||i}))},0,!1))},tt=(i,n)=>async o=>{let m;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let f=I(l);if(V.state.next({isSubmitting:!0}),r.resolver){const{errors:u,values:g}=await k();t.errors=u,f=g}else await Z(s);if(y.disabled.size)for(const u of y.disabled)D(f,u,void 0);if(U(t.errors,"root"),q(t.errors)){V.state.next({errors:{}});try{await i(f,o)}catch(u){m=u}}else n&&await n({...t.errors},o),et(),setTimeout(et);if(V.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},$t=(i,n={})=>{d(s,i)&&(R(n.defaultValue)?oe(i,I(d(a,i))):(oe(i,n.defaultValue),D(a,i,I(n.defaultValue))),n.keepTouched||U(t.touchedFields,i),n.keepDirty||(U(t.dirtyFields,i),t.isDirty=n.defaultValue?w(i,I(d(a,i))):w()),n.keepError||(U(t.errors,i),E.isValid&&j()),V.state.next({...t}))},rt=(i,n={})=>{const o=i?I(i):a,m=I(o),f=q(i),u=f?a:m;if(n.keepDefaultValues||(a=o),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...y.mount,...Object.keys(ge(a,l))]);for(const S of Array.from(g))d(t.dirtyFields,S)?D(u,S,d(l,S)):oe(S,d(u,S))}else{if(He&&R(i))for(const g of y.mount){const S=d(s,g);if(S&&S._f){const T=Array.isArray(S._f.refs)?S._f.refs[0]:S._f.ref;if(we(T)){const $=T.closest("form");if($){$.reset();break}}}}for(const g of y.mount)oe(g,d(u,g))}l=I(u),V.array.next({values:{...u}}),V.state.next({values:{...u}})}y={mount:n.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!E.isValid||!!n.keepIsValid||!!n.keepDirtyValues,c.watch=!!r.shouldUnregister,V.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:f?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!le(i,a)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&l?ge(a,l):t.dirtyFields:n.keepDefaultValues&&i?ge(a,i):n.keepDirty?t.dirtyFields:{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},st=(i,n)=>rt(re(i)?i(l):i,n),qt=(i,n={})=>{const o=d(s,i),m=o&&o._f;if(m){const f=m.refs?m.refs[0]:m.ref;f.focus&&(f.focus(),n.shouldSelect&&re(f.select)&&f.select())}},Wt=i=>{t={...t,...i}},it={control:{register:Ce,unregister:Ee,getFieldState:Je,handleSubmit:tt,setError:Qe,_subscribe:Xe,_runSchema:k,_getWatch:L,_getDirty:w,_setValid:j,_setFieldArray:J,_setDisabledField:Ze,_setErrors:O,_getFieldArray:z,_reset:rt,_resetDefaultValues:()=>re(r.defaultValues)&&r.defaultValues().then(i=>{st(i,r.resetOptions),V.state.next({isLoading:!1})}),_removeUnmounted:p,_disableForm:jt,_subjects:V,_proxyFormState:E,get _fields(){return s},get _formValues(){return l},get _state(){return c},set _state(i){c=i},get _defaultValues(){return a},get _names(){return y},set _names(i){y=i},get _formState(){return t},get _options(){return r},set _options(i){r={...r,...i}}},subscribe:Bt,trigger:pe,register:Ce,handleSubmit:tt,watch:Pt,setValue:oe,getValues:Ye,reset:st,resetField:$t,clearErrors:Ut,unregister:Ee,setError:Qe,setFocus:qt,getFieldState:Je};return{...it,formControl:it}}var ue=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})},Le=(e,r,t={})=>t.shouldFocus||R(t.shouldFocus)?t.focusName||`${e}.${R(t.focusIndex)?r:t.focusIndex}.`:"",Ne=(e,r)=>[...e,...K(r)],Oe=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Te(e,r,t){return[...e.slice(0,r),...K(t),...e.slice(r)]}var Ue=(e,r,t)=>Array.isArray(e)?(R(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],Pe=(e,r)=>[...K(r),...K(e)];function br(e,r){let t=0;const s=[...e];for(const a of r)s.splice(a-t,1),t++;return be(s).length?s:[]}var Be=(e,r)=>R(r)?[]:br(e,K(r).sort((t,s)=>t-s)),je=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]},gt=(e,r,t)=>(e[r]=t,e);function Ir(e){const r=Fe(),{control:t=r.control,name:s,keyName:a="id",shouldUnregister:l,rules:c}=e,[y,F]=v.useState(t._getFieldArray(s)),x=v.useRef(t._getFieldArray(s).map(ue)),E=v.useRef(y),C=v.useRef(s),V=v.useRef(!1);C.current=s,E.current=y,t._names.array.add(s),c&&t.register(s,c),v.useEffect(()=>t._subjects.array.subscribe({next:({values:h,name:_})=>{if(_===C.current||!_){const A=d(h,C.current);Array.isArray(A)&&(F(A),x.current=A.map(ue))}}}).unsubscribe,[t]);const M=v.useCallback(h=>{V.current=!0,t._setFieldArray(s,h)},[t,s]),Y=(h,_)=>{const A=K(I(h)),k=Ne(t._getFieldArray(s),A);t._names.focus=Le(s,k.length-1,_),x.current=Ne(x.current,A.map(ue)),M(k),F(k),t._setFieldArray(s,k,Ne,{argA:Oe(h)})},P=(h,_)=>{const A=K(I(h)),k=Pe(t._getFieldArray(s),A);t._names.focus=Le(s,0,_),x.current=Pe(x.current,A.map(ue)),M(k),F(k),t._setFieldArray(s,k,Pe,{argA:Oe(h)})},B=h=>{const _=Be(t._getFieldArray(s),h);x.current=Be(x.current,h),M(_),F(_),!Array.isArray(d(t._fields,s))&&D(t._fields,s,void 0),t._setFieldArray(s,_,Be,{argA:h})},j=(h,_,A)=>{const k=K(I(_)),Q=Te(t._getFieldArray(s),h,k);t._names.focus=Le(s,h,A),x.current=Te(x.current,h,k.map(ue)),M(Q),F(Q),t._setFieldArray(s,Q,Te,{argA:h,argB:Oe(_)})},b=(h,_)=>{const A=t._getFieldArray(s);je(A,h,_),je(x.current,h,_),M(A),F(A),t._setFieldArray(s,A,je,{argA:h,argB:_},!1)},J=(h,_)=>{const A=t._getFieldArray(s);Ue(A,h,_),Ue(x.current,h,_),M(A),F(A),t._setFieldArray(s,A,Ue,{argA:h,argB:_},!1)},W=(h,_)=>{const A=I(_),k=gt(t._getFieldArray(s),h,A);x.current=[...k].map((Q,Z)=>!Q||Z===h?ue():x.current[Z]),M(k),F([...k]),t._setFieldArray(s,k,gt,{argA:h,argB:A},!0,!1)},O=h=>{const _=K(I(h));x.current=_.map(ue),M([..._]),F([..._]),t._setFieldArray(s,[..._],A=>A,{},!0,!1)};return v.useEffect(()=>{if(t._state.action=!1,qe(s,t._names)&&t._subjects.state.next({...t._formState}),V.current&&(!fe(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!fe(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([s]).then(h=>{const _=d(h.errors,s),A=d(t._formState.errors,s);(A?!_&&A.type||_&&(A.type!==_.type||A.message!==_.message):_&&_.type)&&(_?D(t._formState.errors,s,_):U(t._formState.errors,s),t._subjects.state.next({errors:t._formState.errors}))});else{const h=d(t._fields,s);h&&h._f&&!(fe(t._options.reValidateMode).isOnSubmit&&fe(t._options.mode).isOnSubmit)&&We(h,t._names.disabled,t._formValues,t._options.criteriaMode===te.all,t._options.shouldUseNativeValidation,!0).then(_=>!q(_)&&t._subjects.state.next({errors:Mt(t._formState.errors,_,s)}))}t._subjects.state.next({name:s,values:I(t._formValues)}),t._names.focus&&ye(t._fields,(h,_)=>{if(t._names.focus&&_.startsWith(t._names.focus)&&h.focus)return h.focus(),1}),t._names.focus="",t._setValid(),V.current=!1},[y,s,t]),v.useEffect(()=>(!d(t._formValues,s)&&t._setFieldArray(s),()=>{const h=(_,A)=>{const k=d(t._fields,_);k&&k._f&&(k._f.mount=A)};t._options.shouldUnregister||l?t.unregister(s):h(s,!1)}),[s,t,a,l]),{swap:v.useCallback(b,[M,s,t]),move:v.useCallback(J,[M,s,t]),prepend:v.useCallback(P,[M,s,t]),append:v.useCallback(Y,[M,s,t]),remove:v.useCallback(B,[M,s,t]),insert:v.useCallback(j,[M,s,t]),update:v.useCallback(W,[M,s,t]),replace:v.useCallback(O,[M,s,t]),fields:v.useMemo(()=>y.map((h,_)=>({...h,[a]:x.current[_]||ue()})),[y,a])}}const Fr=typeof window<"u"?v.useLayoutEffect:v.useEffect;function Lr(e={}){const r=v.useRef(void 0),t=v.useRef(void 0),[s,a]=v.useState({isDirty:!1,isValidating:!1,isLoading:re(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:re(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...e.formControl?e.formControl:vr(e),formState:s},e.formControl&&e.defaultValues&&!re(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const l=r.current.control;return l._options=e,Fr(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(y=>({...y,isReady:!0})),l._formState.isReady=!0,c},[l]),v.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),v.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode),e.errors&&!q(e.errors)&&l._setErrors(e.errors)},[l,e.errors,e.mode,e.reValidateMode]),v.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),v.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==s.isDirty&&l._subjects.state.next({isDirty:c})}},[l,s.isDirty]),v.useEffect(()=>{e.values&&!le(e.values,t.current)?(l._reset(e.values,l._options.resetOptions),t.current=e.values,a(c=>({...c}))):l._resetDefaultValues()},[l,e.values]),v.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),r.current.formState=xt(s,l),r.current}const _t=(e,r,t)=>{if(e&&"reportValidity"in e){const s=d(t,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Vr=(e,r)=>{for(const t in r.fields){const s=r.fields[t];s&&s.ref&&"reportValidity"in s.ref?_t(s.ref,t,e):s&&s.refs&&s.refs.forEach(a=>_t(a,t,e))}},Nr=(e,r)=>{r.shouldUseNativeValidation&&Vr(e,r);const t={};for(const s in e){const a=d(r.fields,s),l=Object.assign(e[s]||{},{ref:a&&a.ref});if(Ar(r.names||Object.keys(e),s)){const c=Object.assign({},d(t,s));D(c,"root",l),D(t,s,c)}else D(t,s,l)}return t},Ar=(e,r)=>{const t=ht(r);return e.some(s=>ht(s).match(`^${t}\\.\\d+`))};function ht(e){return e.replace(/\]|\[/g,"")}var xr="Label",It=G.forwardRef((e,r)=>ae.jsx(Yt.label,{...e,ref:r,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));It.displayName=xr;var Lt=It;const wr=Jt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nt=G.forwardRef(({className:e,...r},t)=>ae.jsx(Lt,{ref:t,className:he(wr(),e),...r}));Nt.displayName=Lt.displayName;const Or=tr,Ot=G.createContext({}),Tr=({...e})=>ae.jsx(Ot.Provider,{value:{name:e.name},children:ae.jsx(ar,{...e})}),ke=()=>{const e=G.useContext(Ot),r=G.useContext(Tt),{getFieldState:t,formState:s}=Fe(),a=t(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:l}=r;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...a}},Tt=G.createContext({}),Sr=G.forwardRef(({className:e,...r},t)=>{const s=G.useId();return ae.jsx(Tt.Provider,{value:{id:s},children:ae.jsx("div",{ref:t,className:he("space-y-2",e),...r})})});Sr.displayName="FormItem";const Dr=G.forwardRef(({className:e,...r},t)=>{const{error:s,formItemId:a}=ke();return ae.jsx(Nt,{ref:t,className:he(s&&"text-destructive",e),htmlFor:a,...r})});Dr.displayName="FormLabel";const kr=G.forwardRef(({...e},r)=>{const{error:t,formItemId:s,formDescriptionId:a,formMessageId:l}=ke();return ae.jsx(Qt,{ref:r,id:s,"aria-describedby":t?`${a} ${l}`:`${a}`,"aria-invalid":!!t,...e})});kr.displayName="FormControl";const pr=G.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:s}=ke();return ae.jsx("p",{ref:t,id:s,className:he("text-[0.8rem] text-muted-foreground",e),...r})});pr.displayName="FormDescription";const Er=G.forwardRef(({className:e,children:r,...t},s)=>{const{error:a,formMessageId:l}=ke(),c=a?String((a==null?void 0:a.message)??""):r;return c?ae.jsx("p",{ref:s,id:l,className:he("text-[0.8rem] font-medium text-destructive",e),...t,children:c}):null});Er.displayName="FormMessage";export{Or as F,Mr as S,Tr as a,Sr as b,Dr as c,kr as d,pr as e,Er as f,nr as g,Ir as h,Vr as o,Nr as s,Lr as u};

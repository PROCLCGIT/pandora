import{p,q as f,r as g,j as e}from"./index-CuM1UVNz.js";import{u as N,F as v,a as o,b as c,c as l,d as m,f as u,S as C}from"./form-v5aSno6F.js";import{s as F,o as S,a as x}from"./index-B73EABl6.js";import{b as w,R as y}from"./unidadService-Bs8V2DCy.js";import{B as d}from"./button-DvvEsyKI.js";import{I as j}from"./input-ZDudQbKj.js";import{C as U,a as E,b as I,d as T,c as A,e as L}from"./card-D4d4qW_8.js";import{A as D}from"./arrow-left-EuUX28YT.js";import"./axios-CTonWHPK.js";const G=S({nombre:x().min(2,{message:"El nombre debe tener al menos 2 caracteres"}).max(50),code:x().min(1,{message:"El código debe tener al menos 1 caracter"}).max(50)});function P(){const r=p(),{toast:t}=f(),[i,n]=g.useState(!1),b=w({onSuccess:a=>{n(!1),t({title:"Unidad creada",description:`La unidad "${a.nombre}" se ha creado correctamente.`,variant:"success"}),r("/basic/unidades")},onError:a=>{n(!1),t({title:"Error al crear la unidad",description:a.message||"Ha ocurrido un error al crear la unidad.",variant:"destructive"})}}),s=N({resolver:F(G),defaultValues:{nombre:"",code:""}}),h=a=>{n(!0),b.mutate(a)};return e.jsxs("div",{className:"container mx-auto py-6 max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Agregar Nueva Unidad de Medida"})]}),e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>r("/basic/unidades"),className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"})," Volver"]})]}),e.jsxs(U,{className:"border-blue-100 shadow-md",children:[e.jsxs(E,{children:[e.jsx(I,{children:"Datos de la Unidad"}),e.jsx(T,{children:"Ingrese la información para la nueva unidad de medida."})]}),e.jsx(v,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(h),children:[e.jsxs(A,{className:"space-y-4",children:[e.jsx(o,{control:s.control,name:"code",render:({field:a})=>e.jsxs(c,{children:[e.jsx(l,{children:"Código *"}),e.jsx(m,{children:e.jsx(j,{placeholder:"Ej: KG, LT, UND",...a})}),e.jsx(u,{})]})}),e.jsx(o,{control:s.control,name:"nombre",render:({field:a})=>e.jsxs(c,{children:[e.jsx(l,{children:"Nombre *"}),e.jsx(m,{children:e.jsx(j,{placeholder:"Nombre de la unidad de medida",...a})}),e.jsx(u,{})]})})]}),e.jsxs(L,{className:"flex justify-between",children:[e.jsx(d,{type:"button",variant:"outline",onClick:()=>r("/basic/unidades"),children:"Cancelar"}),e.jsxs(d,{type:"submit",disabled:i,className:"gap-1",children:[e.jsx(C,{className:"h-4 w-4"}),i?"Guardando...":"Guardar Unidad"]})]})]})})]})]})}export{P as default};

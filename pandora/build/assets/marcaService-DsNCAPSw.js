import{u as y,a as o,b as n}from"./axios-CTonWHPK.js";import{v as u}from"./index-CuM1UVNz.js";import{u as f}from"./useInfiniteQuery-Ci5GnK52.js";const s="/basic/marcas/",t="marcas",l=async(r={})=>{try{const e=await n.get(s,{params:r});return Array.isArray(e.data)?{count:e.data.length,results:e.data}:e.data&&e.data.results?e.data:{count:1,results:Array.isArray(e.data)?e.data:[e.data].filter(Boolean)}}catch(e){throw console.error("Error fetching marcas:",e),e}},h=async r=>{try{return(await n.get(`${s}${r}/`)).data}catch(e){throw console.error(`Error fetching marca id ${r}:`,e),e}},m=async r=>{try{return(await n.post(s,r)).data}catch(e){throw console.error("Error creating marca:",e),e}},E=async({id:r,data:e})=>{try{return(await n.put(`${s}${r}/`,e)).data}catch(a){throw console.error(`Error updating marca id ${r}:`,a),a}},g=async r=>{try{return await n.delete(`${s}${r}/`),r}catch(e){throw console.error(`Error deleting marca id ${r}:`,e),e}},p=(r={},e={})=>y({queryKey:[t,r],queryFn:()=>l(r),staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:1,...e}),S=(r,e={})=>y({queryKey:[t,r],queryFn:()=>h(r),enabled:!!r,staleTime:5*60*1e3,retry:1,retryDelay:1e3,refetchOnWindowFocus:!1,placeholderData:{id:null,nombre:"",code:"",description:"",proveedores:"",country_origin:"",website:"",contact_info:"",is_active:!0},...e}),F=(r={})=>{const e=u();return o({mutationFn:m,onSuccess:a=>{e.invalidateQueries({queryKey:[t]}),r.onSuccess&&r.onSuccess(a)},onError:a=>{r.onError&&r.onError(a)},...r})},K=(r={})=>{const e=u();return o({mutationFn:E,onSuccess:a=>{e.invalidateQueries({queryKey:[t,a.id]}),e.invalidateQueries({queryKey:[t]}),r.onSuccess&&r.onSuccess(a)},onError:a=>{r.onError&&r.onError(a)},...r})},Q=(r={})=>{const e=u();return o({mutationFn:g,onSuccess:a=>{e.invalidateQueries({queryKey:[t,a]}),e.invalidateQueries({queryKey:[t]}),r.onSuccess&&r.onSuccess(a)},onError:a=>{r.onError&&r.onError(a)},...r})},$=(r={},e={})=>{const a=r.page_size||10;return f({queryKey:[t,"infinite",r],queryFn:({pageParam:c=1})=>l({...r,page:c,page_size:a}),getNextPageParam:(c,i)=>{const d=Math.ceil(c.count/a);return i.length<d?i.length+1:void 0},staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:1,...e})};export{Q as a,S as b,F as c,K as d,$ as e,p as u};

import{s as C,p as w,q as y,r as T,j as e}from"./index-CuM1UVNz.js";import{u as E,F,a as d,b as x,c as u,d as p,f as j,S}from"./form-v5aSno6F.js";import{s as z,o as L,a as h}from"./index-B73EABl6.js";import{u as I,a as k}from"./tipoClienteService-sNnJhpCJ.js";import{B as t}from"./button-DvvEsyKI.js";import{I as b}from"./input-ZDudQbKj.js";import{C as A,a as B,b as U,d as V,c as G,e as H}from"./card-D4d4qW_8.js";import{L as M}from"./loader-circle-DQ38qZcg.js";import{A as f}from"./arrow-left-EuUX28YT.js";import{U as P}from"./users-pPiCKQq6.js";import"./axios-CTonWHPK.js";const q=L({nombre:h().min(3,{message:"El nombre debe tener al menos 3 caracteres"}).max(50),code:h().min(2,{message:"El c贸digo debe tener al menos 2 caracteres"}).max(50)});function _(){const{id:n}=C(),o=w(),{toast:l}=y(),[c,i]=T.useState(!1),{data:s,isLoading:g,error:m}=I(n),N=k({onSuccess:a=>{i(!1),l({title:"Tipo de cliente actualizado",description:`El tipo de cliente "${a.nombre}" se ha actualizado correctamente.`,variant:"success"})},onError:a=>{i(!1),l({title:"Error al actualizar",description:a.message||"Ha ocurrido un error al actualizar el tipo de cliente.",variant:"destructive"})}}),r=E({resolver:z(q),defaultValues:{nombre:(s==null?void 0:s.nombre)||"",code:(s==null?void 0:s.code)||""},values:s}),v=a=>{i(!0),N.mutate({id:n,data:a})};return g?e.jsxs("div",{className:"flex justify-center items-center h-[500px]",children:[e.jsx(M,{className:"h-8 w-8 animate-spin text-blue-500"}),e.jsx("span",{className:"ml-2",children:"Cargando informaci贸n del tipo de cliente..."})]}):m?e.jsxs("div",{className:"container mx-auto py-6 max-w-3xl",children:[e.jsxs("div",{className:"bg-red-50 p-4 rounded-md text-red-600 mb-4",children:["Error al cargar los datos del tipo de cliente: ",m.message]}),e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>o("/basic/tiposcliente"),className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4"})," Volver a la lista"]})]}):e.jsxs("div",{className:"container mx-auto py-6 max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Editar Tipo de Cliente"})]}),e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>o("/basic/tiposcliente"),className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4"})," Volver"]})]}),e.jsxs(A,{className:"border-blue-100 shadow-md",children:[e.jsxs(B,{children:[e.jsx(U,{children:s==null?void 0:s.nombre}),e.jsx(V,{children:"Actualice la informaci贸n del tipo de cliente. Los campos marcados con * son obligatorios."})]}),e.jsx(F,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(v),children:[e.jsxs(G,{className:"space-y-4",children:[e.jsx(d,{control:r.control,name:"code",render:({field:a})=>e.jsxs(x,{children:[e.jsx(u,{children:"C贸digo *"}),e.jsx(p,{children:e.jsx(b,{placeholder:"Ej: TC-01",...a})}),e.jsx(j,{})]})}),e.jsx(d,{control:r.control,name:"nombre",render:({field:a})=>e.jsxs(x,{children:[e.jsx(u,{children:"Nombre *"}),e.jsx(p,{children:e.jsx(b,{placeholder:"Nombre del tipo de cliente",...a})}),e.jsx(j,{})]})})]}),e.jsxs(H,{className:"flex justify-between",children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>o("/basic/tiposcliente"),children:"Cancelar"}),e.jsxs(t,{type:"submit",disabled:c,className:"gap-1",children:[e.jsx(S,{className:"h-4 w-4"}),c?"Guardando...":"Guardar Cambios"]})]})]})})]})]})}export{_ as default};

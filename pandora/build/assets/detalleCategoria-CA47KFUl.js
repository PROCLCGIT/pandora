import{c as g,s as v,p as y,q as C,j as e}from"./index-CuM1UVNz.js";import{e as w}from"./categoriaService-DLty_uvx.js";import{B as d}from"./button-DvvEsyKI.js";import{C as m,a as x,b as h,d as j,c as u,e as k}from"./card-D4d4qW_8.js";import{T as E,a as T,b,c as t,d as z,e as l}from"./table-B6Cf0HfV.js";import{B as i}from"./badge-D5I9DsW8.js";import{S as A}from"./separator-BW-o1NvN.js";import{A as I}from"./arrow-left-EuUX28YT.js";import{F as M}from"./file-pen-CTd16QCS.js";import{P as _}from"./plus-6cwyY5hA.js";import"./axios-CTonWHPK.js";import"./useInfiniteQuery-Ci5GnK52.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],H=g("list",B);function O(){var o;const{id:c}=v(),r=y(),{toast:N}=C(),{data:s,isLoading:f,isError:p,error:n}=w(c,{onError:a=>{N({title:"Error al cargar detalles",description:`No se pudieron cargar los detalles de la categoría: ${a.message}`,variant:"destructive"})}});return f?e.jsx("div",{className:"container mx-auto py-6",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):p?e.jsx("div",{className:"container mx-auto py-6",children:e.jsxs(m,{className:"border-destructive",children:[e.jsxs(x,{children:[e.jsx(h,{children:"Error al cargar datos"}),e.jsx(j,{children:"No se pudo cargar la información de la categoría"})]}),e.jsx(u,{children:e.jsx("p",{children:(n==null?void 0:n.message)||"Error desconocido"})}),e.jsx(k,{children:e.jsx(d,{onClick:()=>r("/basic/categorias"),variant:"outline",children:"Volver a categorías"})})]})}):e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsxs(d,{variant:"ghost",onClick:()=>r("/basic/categorias"),className:"mb-4",children:[e.jsx(I,{className:"mr-2 h-4 w-4"})," Volver a categorías"]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(h,{className:"text-2xl",children:[s==null?void 0:s.nombre,s!=null&&s.is_active?e.jsx(i,{className:"ml-2 bg-green-500",children:"Activo"}):e.jsx(i,{variant:"secondary",className:"ml-2",children:"Inactivo"})]}),e.jsx(j,{children:"Detalles de la categoría"})]}),e.jsxs(d,{onClick:()=>r(`/basic/categorias/edit/${c}`),children:[e.jsx(M,{className:"mr-2 h-4 w-4"})," Editar"]})]}),e.jsxs(u,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Información básica"}),e.jsxs("dl",{className:"grid grid-cols-1 gap-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between py-1 border-b",children:[e.jsx("dt",{className:"font-medium",children:"Nombre"}),e.jsx("dd",{children:s==null?void 0:s.nombre})]}),e.jsxs("div",{className:"flex justify-between py-1 border-b",children:[e.jsx("dt",{className:"font-medium",children:"Código"}),e.jsx("dd",{className:"font-mono",children:s==null?void 0:s.code})]}),e.jsxs("div",{className:"flex justify-between py-1 border-b",children:[e.jsx("dt",{className:"font-medium",children:"Estado"}),e.jsx("dd",{children:s!=null&&s.is_active?e.jsx(i,{className:"bg-green-500",children:"Activo"}):e.jsx(i,{variant:"secondary",children:"Inactivo"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Estructura jerárquica"}),e.jsxs("dl",{className:"grid grid-cols-1 gap-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between py-1 border-b",children:[e.jsx("dt",{className:"font-medium",children:"Nivel"}),e.jsx("dd",{children:s==null?void 0:s.level})]}),e.jsxs("div",{className:"flex justify-between py-1 border-b",children:[e.jsx("dt",{className:"font-medium",children:"Categoría padre"}),e.jsx("dd",{children:s!=null&&s.parent?e.jsx(d,{variant:"link",className:"p-0 h-auto",onClick:()=>r(`/basic/categorias/${s.parent}`),children:s.parent_name||"Ver padre"}):e.jsx("span",{className:"text-muted-foreground",children:"Categoría raíz"})})]}),e.jsxs("div",{className:"flex justify-between py-1 border-b",children:[e.jsx("dt",{className:"font-medium",children:"Ruta"}),e.jsx("dd",{className:"font-mono text-xs bg-muted p-1 rounded max-w-xs truncate",children:s==null?void 0:s.path})]})]})]})]}),e.jsx(A,{className:"my-6"}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-medium text-lg",children:"Subcategorías"}),e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>r("/basic/categorias/add",{state:{parentId:s.id}}),children:[e.jsx(_,{className:"h-4 w-4 mr-2"})," Agregar subcategoría"]})]}),((o=s==null?void 0:s.hijos)==null?void 0:o.length)>0?e.jsxs(E,{children:[e.jsx(T,{children:e.jsxs(b,{children:[e.jsx(t,{children:"Nombre"}),e.jsx(t,{children:"Código"}),e.jsx(t,{children:"Nivel"}),e.jsx(t,{children:"Estado"}),e.jsx(t,{className:"text-right",children:"Acciones"})]})}),e.jsx(z,{children:s.hijos.map(a=>e.jsxs(b,{children:[e.jsx(l,{className:"font-medium",children:a.nombre}),e.jsx(l,{className:"font-mono",children:a.code}),e.jsx(l,{children:a.level}),e.jsx(l,{children:a.is_active?e.jsx(i,{className:"bg-green-500",children:"Activo"}):e.jsx(i,{variant:"secondary",children:"Inactivo"})}),e.jsx(l,{className:"text-right",children:e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>r(`/basic/categorias/${a.id}`),children:"Ver detalles"})})]},a.id))})]}):e.jsxs("div",{className:"text-center py-8 bg-muted/20 rounded-lg",children:[e.jsx(H,{className:"h-12 w-12 mx-auto text-muted-foreground"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Esta categoría no tiene subcategorías"})]})]})]})})]})}export{O as default};

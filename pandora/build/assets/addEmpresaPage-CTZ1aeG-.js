import{p as g,q as b,r as f,j as e}from"./index-CuM1UVNz.js";import{u as C,F as N,a,b as o,c as n,d as l,f as c,S as E}from"./form-v5aSno6F.js";import{s as v,o as S,a as t,l as y}from"./index-B73EABl6.js";import{b as F,B as w}from"./empresaClcService-WSwY_hpR.js";import{B as x}from"./button-DvvEsyKI.js";import{I as i}from"./input-ZDudQbKj.js";import{T as L}from"./textarea-DSyUkBxL.js";import{S as T}from"./separator-BW-o1NvN.js";import{C as z,a as I,b as R,d as _,c as D,e as A}from"./card-D4d4qW_8.js";import{A as B}from"./arrow-left-EuUX28YT.js";import"./axios-CTonWHPK.js";const $=S({nombre:t().min(3,{message:"El nombre debe tener al menos 3 caracteres"}).max(150),razon_social:t().min(3,{message:"La razón social debe tener al menos 3 caracteres"}).max(150),code:t().min(2,{message:"El código debe tener al menos 2 caracteres"}).max(50),ruc:t().regex(/^\d{13}$/,{message:"El RUC debe contener 13 dígitos numéricos"}),direccion:t().min(5,{message:"La dirección debe tener al menos 5 caracteres"}).max(255),telefono:t().max(20).optional().or(y("")),correo:t().email({message:"Debe ingresar un correo electrónico válido"}).max(100),representante_legal:t().min(3,{message:"El nombre del representante debe tener al menos 3 caracteres"}).max(150)});function Q(){const m=g(),{toast:j}=b(),[p,d]=f.useState(!1),h=F({onSuccess:r=>{d(!1),j({title:"Empresa creada",description:`La empresa "${r.nombre}" se ha creado correctamente.`}),m(`/basic/empresas/edit/${r.id}`)},onError:r=>{d(!1),j({title:"Error al crear la empresa",description:r.message||"Ha ocurrido un error al crear la empresa.",variant:"destructive"})}}),s=C({resolver:v($),defaultValues:{nombre:"",razon_social:"",code:"",ruc:"",direccion:"",telefono:"",correo:"",representante_legal:""}}),u=r=>{d(!0),h.mutate(r)};return e.jsxs("div",{className:"container mx-auto py-6 max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Agregar Nueva Empresa CLC"})]}),e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>m("/basic/empresas"),className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-4 w-4"})," Volver"]})]}),e.jsxs(z,{className:"border-blue-100 shadow-md",children:[e.jsxs(I,{children:[e.jsx(R,{children:"Datos de la Empresa"}),e.jsx(_,{children:"Ingrese la información de la nueva empresa del grupo CLC."})]}),e.jsx(N,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(u),children:[e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(a,{control:s.control,name:"code",render:({field:r})=>e.jsxs(o,{children:[e.jsx(n,{children:"Código Interno *"}),e.jsx(l,{children:e.jsx(i,{placeholder:"Ej: CLC-01",...r})}),e.jsx(c,{})]})}),e.jsx(a,{control:s.control,name:"ruc",render:({field:r})=>e.jsxs(o,{children:[e.jsx(n,{children:"RUC *"}),e.jsx(l,{children:e.jsx(i,{placeholder:"1234567890123",...r})}),e.jsx(c,{})]})})]}),e.jsx(a,{control:s.control,name:"nombre",render:({field:r})=>e.jsxs(o,{children:[e.jsx(n,{children:"Nombre Comercial *"}),e.jsx(l,{children:e.jsx(i,{placeholder:"Nombre comercial de la empresa",...r})}),e.jsx(c,{})]})}),e.jsx(a,{control:s.control,name:"razon_social",render:({field:r})=>e.jsxs(o,{children:[e.jsx(n,{children:"Razón Social *"}),e.jsx(l,{children:e.jsx(i,{placeholder:"Razón social completa",...r})}),e.jsx(c,{})]})}),e.jsx(T,{className:"my-4"}),e.jsx(a,{control:s.control,name:"direccion",render:({field:r})=>e.jsxs(o,{children:[e.jsx(n,{children:"Dirección *"}),e.jsx(l,{children:e.jsx(L,{placeholder:"Dirección completa de la empresa",...r,rows:2})}),e.jsx(c,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(a,{control:s.control,name:"telefono",render:({field:r})=>e.jsxs(o,{children:[e.jsx(n,{children:"Teléfono"}),e.jsx(l,{children:e.jsx(i,{placeholder:"Ej: +593 999999999",...r})}),e.jsx(c,{})]})}),e.jsx(a,{control:s.control,name:"correo",render:({field:r})=>e.jsxs(o,{children:[e.jsx(n,{children:"Correo Electrónico *"}),e.jsx(l,{children:e.jsx(i,{type:"email",placeholder:"ejemplo@empresa.com",...r})}),e.jsx(c,{})]})})]}),e.jsx(a,{control:s.control,name:"representante_legal",render:({field:r})=>e.jsxs(o,{children:[e.jsx(n,{children:"Representante Legal *"}),e.jsx(l,{children:e.jsx(i,{placeholder:"Nombre completo del representante legal",...r})}),e.jsx(c,{})]})})]}),e.jsxs(A,{className:"flex justify-between",children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>m("/basic/empresas"),children:"Cancelar"}),e.jsxs(x,{type:"submit",disabled:p,className:"gap-1",children:[e.jsx(E,{className:"h-4 w-4"}),p?"Guardando...":"Guardar Empresa"]})]})]})})]})]})}export{Q as default};

import{s as C,p as F,q as w,r as y,j as e}from"./index-CuM1UVNz.js";import{u as T,F as E,a as d,b as x,c as u,d as p,f as j,S}from"./form-v5aSno6F.js";import{s as L,o as z,a as h}from"./index-B73EABl6.js";import{u as I,a as k}from"./tipoContratacionService-BnsZCg0F.js";import{B as t}from"./button-DvvEsyKI.js";import{I as b}from"./input-ZDudQbKj.js";import{C as A,a as B,b as P,d as V,c as G,e as H}from"./card-D4d4qW_8.js";import{L as M}from"./loader-circle-DQ38qZcg.js";import{A as f}from"./arrow-left-EuUX28YT.js";import{F as q}from"./file-pen-line-BwjZ_lWF.js";import"./axios-CTonWHPK.js";const D=z({nombre:h().min(3,{message:"El nombre debe tener al menos 3 caracteres"}).max(50),code:h().min(2,{message:"El código debe tener al menos 2 caracteres"}).max(50)});function _(){const{id:n}=C(),o=F(),{toast:c}=w(),[l,i]=y.useState(!1),{data:a,isLoading:N,error:m}=I(n),g=k({onSuccess:s=>{i(!1),c({title:"Tipo de contratación actualizado",description:`El tipo de contratación "${s.nombre}" se ha actualizado correctamente.`,variant:"success"})},onError:s=>{i(!1),c({title:"Error al actualizar",description:s.message||"Ha ocurrido un error al actualizar el tipo de contratación.",variant:"destructive"})}}),r=T({resolver:L(D),defaultValues:{nombre:(a==null?void 0:a.nombre)||"",code:(a==null?void 0:a.code)||""},values:a}),v=s=>{i(!0),g.mutate({id:n,data:s})};return N?e.jsxs("div",{className:"flex justify-center items-center h-[500px]",children:[e.jsx(M,{className:"h-8 w-8 animate-spin text-blue-500"}),e.jsx("span",{className:"ml-2",children:"Cargando información del tipo de contratación..."})]}):m?e.jsxs("div",{className:"container mx-auto py-6 max-w-3xl",children:[e.jsxs("div",{className:"bg-red-50 p-4 rounded-md text-red-600 mb-4",children:["Error al cargar los datos del tipo de contratación: ",m.message]}),e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>o("/basic/tiposcontratacion"),className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4"})," Volver a la lista"]})]}):e.jsxs("div",{className:"container mx-auto py-6 max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Editar Tipo de Contratación"})]}),e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>o("/basic/tiposcontratacion"),className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4"})," Volver"]})]}),e.jsxs(A,{className:"border-blue-100 shadow-md",children:[e.jsxs(B,{children:[e.jsx(P,{children:a==null?void 0:a.nombre}),e.jsx(V,{children:"Actualice la información del tipo de contratación. Los campos marcados con * son obligatorios."})]}),e.jsx(E,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(v),children:[e.jsxs(G,{className:"space-y-4",children:[e.jsx(d,{control:r.control,name:"code",render:({field:s})=>e.jsxs(x,{children:[e.jsx(u,{children:"Código *"}),e.jsx(p,{children:e.jsx(b,{placeholder:"Ej: CONT-01",...s})}),e.jsx(j,{})]})}),e.jsx(d,{control:r.control,name:"nombre",render:({field:s})=>e.jsxs(x,{children:[e.jsx(u,{children:"Nombre *"}),e.jsx(p,{children:e.jsx(b,{placeholder:"Nombre del tipo de contratación",...s})}),e.jsx(j,{})]})})]}),e.jsxs(H,{className:"flex justify-between",children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>o("/basic/tiposcontratacion"),children:"Cancelar"}),e.jsxs(t,{type:"submit",disabled:l,className:"gap-1",children:[e.jsx(S,{className:"h-4 w-4"}),l?"Guardando...":"Guardar Cambios"]})]})]})})]})]})}export{_ as default};

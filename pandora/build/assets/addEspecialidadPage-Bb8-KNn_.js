import{p as h,q as f,r as g,j as e}from"./index-CuM1UVNz.js";import{u as N,F as E,a as d,b as l,c as n,d as m,f as x,S as v}from"./form-v5aSno6F.js";import{s as C,o as S,a as p}from"./index-B73EABl6.js";import{b as F,S as w}from"./especialidadService-BF-SVRhy.js";import{B as t}from"./button-DvvEsyKI.js";import{I as u}from"./input-ZDudQbKj.js";import{C as y,a as I,b as A,d as T,c as L,e as k}from"./card-D4d4qW_8.js";import{A as B}from"./arrow-left-EuUX28YT.js";import"./axios-CTonWHPK.js";const D=S({nombre:p().min(3,{message:"El nombre debe tener al menos 3 caracteres"}).max(50),code:p().min(2,{message:"El código debe tener al menos 2 caracteres"}).max(50)});function J(){const r=h(),{toast:o}=f(),[c,i]=g.useState(!1),j=F({onSuccess:a=>{i(!1),o({title:"Especialidad creada",description:`La especialidad "${a.nombre}" se ha creado correctamente.`}),r(`/basic/especialidades/edit/${a.id}`)},onError:a=>{i(!1),o({title:"Error al crear la especialidad",description:a.message||"Ha ocurrido un error al crear la especialidad.",variant:"destructive"})}}),s=N({resolver:C(D),defaultValues:{nombre:"",code:""}}),b=a=>{i(!0),j.mutate(a)};return e.jsxs("div",{className:"container mx-auto py-6 max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Agregar Nueva Especialidad"})]}),e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>r("/basic/especialidades"),className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-4 w-4"})," Volver"]})]}),e.jsxs(y,{className:"border-blue-100 shadow-md",children:[e.jsxs(I,{children:[e.jsx(A,{children:"Datos de la Especialidad"}),e.jsx(T,{children:"Ingrese la información de la nueva especialidad médica."})]}),e.jsx(E,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(b),children:[e.jsxs(L,{className:"space-y-4",children:[e.jsx(d,{control:s.control,name:"code",render:({field:a})=>e.jsxs(l,{children:[e.jsx(n,{children:"Código *"}),e.jsx(m,{children:e.jsx(u,{placeholder:"Ej: ESP-01",...a})}),e.jsx(x,{})]})}),e.jsx(d,{control:s.control,name:"nombre",render:({field:a})=>e.jsxs(l,{children:[e.jsx(n,{children:"Nombre *"}),e.jsx(m,{children:e.jsx(u,{placeholder:"Nombre de la especialidad",...a})}),e.jsx(x,{})]})})]}),e.jsxs(k,{className:"flex justify-between",children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>r("/basic/especialidades"),children:"Cancelar"}),e.jsxs(t,{type:"submit",disabled:c,className:"gap-1",children:[e.jsx(v,{className:"h-4 w-4"}),c?"Guardando...":"Guardar Especialidad"]})]})]})})]})]})}export{J as default};

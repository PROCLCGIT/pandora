import{p as h,q as f,r as g,j as e}from"./index-CuM1UVNz.js";import{u as N,F as C,a as i,b as d,c as l,d as m,f as x,S as v}from"./form-v5aSno6F.js";import{s as F,o as S,a as u}from"./index-B73EABl6.js";import{b as P}from"./procedenciaService-DWQpBnYH.js";import{B as c}from"./button-DvvEsyKI.js";import{I as p}from"./input-ZDudQbKj.js";import{C as w,a as y,b as E,d as I,c as A,e as G}from"./card-D4d4qW_8.js";import{G as T}from"./globe-FYGSDlcS.js";import{A as L}from"./arrow-left-EuUX28YT.js";import"./axios-CTonWHPK.js";const k=S({nombre:u().min(3,{message:"El nombre debe tener al menos 3 caracteres"}).max(50),code:u().min(2,{message:"El código debe tener al menos 2 caracteres"}).max(50)});function J(){const r=h(),{toast:n}=f(),[t,o]=g.useState(!1),j=P({onSuccess:s=>{o(!1),n({title:"Procedencia creada",description:`La procedencia "${s.nombre}" se ha creado correctamente.`,variant:"success"}),r(`/basic/procedencias/edit/${s.id}`)},onError:s=>{o(!1),n({title:"Error al crear la procedencia",description:s.message||"Ha ocurrido un error al crear la procedencia.",variant:"destructive"})}}),a=N({resolver:F(k),defaultValues:{nombre:"",code:""}}),b=s=>{o(!0),j.mutate(s)};return e.jsxs("div",{className:"container mx-auto py-6 max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Agregar Nueva Procedencia"})]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>r("/basic/procedencias"),className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-4 w-4"})," Volver"]})]}),e.jsxs(w,{className:"border-blue-100 shadow-md",children:[e.jsxs(y,{children:[e.jsx(E,{children:"Datos de la Procedencia"}),e.jsx(I,{children:"Ingrese la información del lugar de procedencia de los productos."})]}),e.jsx(C,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(b),children:[e.jsxs(A,{className:"space-y-4",children:[e.jsx(i,{control:a.control,name:"code",render:({field:s})=>e.jsxs(d,{children:[e.jsx(l,{children:"Código *"}),e.jsx(m,{children:e.jsx(p,{placeholder:"Ej: PROC-01",...s})}),e.jsx(x,{})]})}),e.jsx(i,{control:a.control,name:"nombre",render:({field:s})=>e.jsxs(d,{children:[e.jsx(l,{children:"Nombre *"}),e.jsx(m,{children:e.jsx(p,{placeholder:"Nombre del lugar de procedencia",...s})}),e.jsx(x,{})]})})]}),e.jsxs(G,{className:"flex justify-between",children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>r("/basic/procedencias"),children:"Cancelar"}),e.jsxs(c,{type:"submit",disabled:t,className:"gap-1",children:[e.jsx(v,{className:"h-4 w-4"}),t?"Guardando...":"Guardar Procedencia"]})]})]})})]})]})}export{J as default};

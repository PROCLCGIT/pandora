import{p as h,q as f,r as C,j as e}from"./index-CuM1UVNz.js";import{u as g,F as N,a as c,b as l,c as m,d,f as p,S as v}from"./form-v5aSno6F.js";import{s as F,o as T,a as x}from"./index-B73EABl6.js";import{b as S}from"./tipoContratacionService-BnsZCg0F.js";import{B as o}from"./button-DvvEsyKI.js";import{I as u}from"./input-ZDudQbKj.js";import{C as w,a as y,b as E,d as I,c as A,e as L}from"./card-D4d4qW_8.js";import{F as k}from"./file-pen-line-BwjZ_lWF.js";import{A as B}from"./arrow-left-EuUX28YT.js";import"./axios-CTonWHPK.js";const D=T({nombre:x().min(3,{message:"El nombre debe tener al menos 3 caracteres"}).max(50),code:x().min(2,{message:"El código debe tener al menos 2 caracteres"}).max(50)});function J(){const r=h(),{toast:n}=f(),[i,t]=C.useState(!1),j=S({onSuccess:a=>{t(!1),n({title:"Tipo de contratación creado",description:`El tipo de contratación "${a.nombre}" se ha creado correctamente.`,variant:"success"}),r(`/basic/tiposcontratacion/edit/${a.id}`)},onError:a=>{t(!1),n({title:"Error al crear el tipo de contratación",description:a.message||"Ha ocurrido un error al crear el tipo de contratación.",variant:"destructive"})}}),s=g({resolver:F(D),defaultValues:{nombre:"",code:""}}),b=a=>{t(!0),j.mutate(a)};return e.jsxs("div",{className:"container mx-auto py-6 max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Agregar Nuevo Tipo de Contratación"})]}),e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>r("/basic/tiposcontratacion"),className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-4 w-4"})," Volver"]})]}),e.jsxs(w,{className:"border-blue-100 shadow-md",children:[e.jsxs(y,{children:[e.jsx(E,{children:"Datos del Tipo de Contratación"}),e.jsx(I,{children:"Ingrese la información para el nuevo tipo de contratación."})]}),e.jsx(N,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(b),children:[e.jsxs(A,{className:"space-y-4",children:[e.jsx(c,{control:s.control,name:"code",render:({field:a})=>e.jsxs(l,{children:[e.jsx(m,{children:"Código *"}),e.jsx(d,{children:e.jsx(u,{placeholder:"Ej: CONT-01",...a})}),e.jsx(p,{})]})}),e.jsx(c,{control:s.control,name:"nombre",render:({field:a})=>e.jsxs(l,{children:[e.jsx(m,{children:"Nombre *"}),e.jsx(d,{children:e.jsx(u,{placeholder:"Nombre del tipo de contratación",...a})}),e.jsx(p,{})]})})]}),e.jsxs(L,{className:"flex justify-between",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>r("/basic/tiposcontratacion"),children:"Cancelar"}),e.jsxs(o,{type:"submit",disabled:i,className:"gap-1",children:[e.jsx(v,{className:"h-4 w-4"}),i?"Guardando...":"Guardar Tipo de Contratación"]})]})]})})]})]})}export{J as default};

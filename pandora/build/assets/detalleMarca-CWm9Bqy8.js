import{s as b,p as C,q as D,r as E,j as e}from"./index-CuM1UVNz.js";import{b as w,a as y}from"./marcaService-DsNCAPSw.js";import{B as r}from"./button-DvvEsyKI.js";import{C as m,a as x,b as h,d as u,c as j}from"./card-D4d4qW_8.js";import{D as _,a as M,b as S,c as k,d as P,e as I}from"./dialog-DY3vMJng.js";import{B as t}from"./badge-D5I9DsW8.js";import{A as L}from"./arrow-left-EuUX28YT.js";import{S as A}from"./square-pen-cdigAb40.js";import{T as B}from"./trash-2-BwIRBH_r.js";import{G as T}from"./globe-FYGSDlcS.js";import{E as q}from"./external-link-RXsHBssH.js";import"./axios-CTonWHPK.js";import"./useInfiniteQuery-Ci5GnK52.js";import"./Combination-CQ9AiL49.js";function Y(){const{id:n}=b(),d=C(),{toast:c}=D(),[p,i]=E.useState(!1),{data:s,isLoading:g,isError:f,error:l}=w(n,{onError:a=>{c({title:"Error al cargar detalles",description:`No se pudieron cargar los detalles de la marca: ${a.message}`,variant:"destructive"})}}),o=y({onSuccess:()=>{c({title:"Marca eliminada",description:"La marca ha sido eliminada correctamente."}),d("/basic/marcas")},onError:a=>{c({title:"Error al eliminar",description:`No se pudo eliminar la marca: ${a.message}`,variant:"destructive"})}}),v=()=>{o.mutate(n,{onSettled:()=>{i(!1)}})},N=a=>a?a.replace(/^https?:\/\//i,""):null;return e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsxs(r,{variant:"ghost",onClick:()=>d("/basic/marcas"),className:"mb-4",children:[e.jsx(L,{className:"mr-2 h-4 w-4"})," Volver a marcas"]}),g?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):f?e.jsxs(m,{className:"border-destructive",children:[e.jsxs(x,{children:[e.jsx(h,{children:"Error al cargar datos"}),e.jsx(u,{children:"No se pudieron cargar los detalles de la marca"})]}),e.jsx(j,{children:e.jsx("p",{children:(l==null?void 0:l.message)||"Error desconocido"})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:s.nombre}),s.is_active?e.jsx(t,{className:"ml-4 bg-green-500",children:"Activo"}):e.jsx(t,{variant:"secondary",className:"ml-4",children:"Inactivo"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(r,{variant:"outline",onClick:()=>d(`/basic/marcas/edit/${n}`),children:[e.jsx(A,{className:"mr-2 h-4 w-4"})," Editar"]}),e.jsxs(r,{variant:"destructive",onClick:()=>i(!0),children:[e.jsx(B,{className:"mr-2 h-4 w-4"})," Eliminar"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"md:col-span-2",children:[e.jsxs(x,{children:[e.jsx(h,{children:"Detalles de la Marca"}),e.jsx(u,{children:"Información completa de la marca"})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nombre"}),e.jsx("p",{className:"text-lg",children:s.nombre})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Código"}),e.jsx("p",{className:"text-lg font-mono",children:s.code})]})]}),s.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Descripción"}),e.jsx("p",{className:"text-base whitespace-pre-line",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.proveedores&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Proveedores"}),e.jsx("p",{className:"text-base",children:s.proveedores})]}),s.country_origin&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"País de origen"}),e.jsx("p",{className:"text-base",children:s.country_origin})]})]}),s.website&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Sitio web"}),e.jsxs("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),N(s.website),e.jsx(q,{className:"ml-1 h-3 w-3"})]})]}),s.contact_info&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Información de contacto"}),e.jsx("p",{className:"text-base whitespace-pre-line",children:s.contact_info})]}),e.jsxs("div",{className:"border-t pt-4 mt-6",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Metadatos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"ID: "}),e.jsx("span",{className:"font-mono",children:s.id})]}),s.created_at&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Creado: "}),e.jsx("span",{children:new Date(s.created_at).toLocaleString()})]}),s.updated_at&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Actualizado: "}),e.jsx("span",{children:new Date(s.updated_at).toLocaleString()})]})]})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(h,{children:"Resumen"})}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Código:"}),e.jsx("div",{className:"font-mono bg-muted p-2 rounded mt-1",children:s.code})]}),s.country_origin&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"País:"}),e.jsx("div",{className:"font-medium mt-1",children:s.country_origin})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Estado:"}),e.jsx("div",{className:"mt-1",children:s.is_active?e.jsx(t,{className:"bg-green-500",children:"Activo"}):e.jsx(t,{variant:"secondary",children:"Inactivo"})})]})]})})]})})]}),e.jsx(_,{open:p,onOpenChange:i,children:e.jsxs(M,{children:[e.jsxs(S,{children:[e.jsx(k,{children:"Confirmar eliminación"}),e.jsxs(P,{children:['¿Estás seguro de que deseas eliminar la marca "',s.nombre,'"? Esta acción no se puede deshacer.']})]}),e.jsxs(I,{children:[e.jsx(r,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),e.jsx(r,{variant:"destructive",onClick:v,disabled:o.isPending,children:o.isPending?"Eliminando...":"Eliminar"})]})]})})]})]})}export{Y as default};
